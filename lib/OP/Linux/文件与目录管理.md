# Linux文件与目录管理

Linux的目录结构为树状结构，最顶级的目录为根目录 /，其他目录通过挂载可以将它们添加到树中，通过解除挂载可以移除它们。

<!-- toc -->

## 绝对路径和相对路径

```js
// 绝对路径: 由根目录 / 写起:
/usr/share/doc

// 相对路径: 不是由 / 写起:
./doc
../man
```

## 常用命令

* ls: 列出目录
* cd: 切换目录
* pwd: 显示目前的目录
* mkdir: 创建一个新的目录
* touch: 创建一个新文件
* cp: 复制文件或目录
* rm: 移除文件或目录
* mv: 移动文件/重命名文件

> 你可以使用 `man [命令]` 来查看各个命令的使用文档，如 ：man cp。

### ls

在Linux系统当中，ls 命令可能是最常被运行的，列出目录。

```js
ls [-aAdfFhilnrRSt] <Path>

// 示例
ls -d /bin  // 仅显示 /bin
```

常用可选参数：
* -a：全部的文件，连同隐藏档(开头为 . 的文件)一起列出来(常用)
* -d <source>：仅列出目录本身，而不是列出目录内的文件数据(常用)
* -l：长数据串列出，包含文件的属性与权限等等数据；(常用)
* -F：显示时区分目录文件（尾部带 `/`）
* -R：递归显示目录底下的文件

### cd

cd是Change Directory的缩写，这是用来变换工作目录的命令。

```js
cd <Path>
```

> Path的部分可以是相对路径、绝对路径、特殊路径标识(~ . ..)

### pwd

查看当前工作路径。

```js
pwd [-P]
```

可选参数：
* -P ：显示出确实的路径，而非使用连结(link)路径。

### mkdir

```js
mkdir [-mp] 文件夹名

// eg:
mkdir test1         // drwxr-xr-x
mkdir -m 777 test2  // drwxrwxrwx
mkdir test1/test2/test3     // error
mkdir -p test1/test2/test3 // success
```

可选参数：
* -m ：配置文件的权限喔！直接配置，不需要看默认权限 (umask) 的脸色～
* -p ：帮助你直接将所需要的目录(包含上一级目录)递归创建起来！

### cp

```js
cp [-adfilprsu] <source> <target>
```

可选参数：
- `-a`: 是指archive的意思，也说是指复制所有的目录（常用）
- `-d`: 若源文件为连接文件(link file)，则复制连接文件属性而非文件本身
- `-f`: 强制(force)，若有重复或其它疑问时，不会询问用户，而强制复制
- `-i`: 若目标文件(destination)已存在，在覆盖时会先询问是否真的操作（常用）
- `-l`: 建立硬连接(hard link)的连接文件，而非复制文件本身
- `-p`: 与文件的属性一起复制，而非使用默认属性
- `-r`: 递归复制，用于目录的复制操作
- `-s`: 复制成符号连接文件(symbolic link)，即“快捷方式”文件
- `-u`: 若目标文件比源文件旧，更新目标文件

### rm

```js
rm [-fir] <source>
```

可选参数：
* -f：就是 force 的意思，忽略不存在的文件，不会出现警告信息；
* -i：互动模式，在删除前会询问使用者是否动作
* -r：递归删除啊！最常用在目录的删除了！这是非常危险的选项！！！

### mv

```js
mv <source> <target>
```

> mv常结合 `.` 作为target进行简化。

## Linux 文件内容查看

* cat  由第一行开始显示文件内容
* tac  从最后一行开始显示，可以看出 tac 是 cat 的倒著写！
* nl   显示的时候，顺道输出行号！
* more 一页一页的显示文件内容
* less 与 more 类似，但是比 more 更好的是，他可以往前翻页！
* head 只看头几行
* tail 只看尾巴几行

### cat

```js
cat [-abentv] <source>
```

可选参数：
* -a ：相当於 -vET 的整合选项，可列出一些特殊字符而不是空白而已；
* -b ：列出行号，仅针对非空白行做行号显示，空白行不标行号！
* -e ：将结尾的断行字节 $ 显示出来；
* -n ：列印出行号，连同空白行也会有行号，与 -b 的选项不同；
* -t ：将 [tab] 按键以 ^I 显示出来；
* -v ：列出一些看不出来的特殊字符

### head

```js
cat [-n] <source>
```

可选参数：
* -n：后面接数字，代表显示几行的意思

### tail

```js
cat [-nf] <source>
```

可选参数：
* -n：后面接数字，代表显示几行的意思
* -n+m(数字)：代表从第m行展示到最后
* -f：表示持续侦测，要等到按下[ctrl]-c才会结束tail的侦测（有时不准）

### less

一页一页翻动文档

```js
less <source>
```

less运行时可以输入的命令：

* 空白键     ：向下翻动一页；
* [pagedown]：向下翻动一页；
* [pageup]  ：向上翻动一页；
* /字串     ：向下搜寻『字串』的功能；
* ?字串     ：向上搜寻『字串』的功能；
* n         ：重复前一个搜寻 (与 / 或 ? 有关！)
* N         ：反向的重复前一个搜寻 (与 / 或 ? 有关！)
* :f        ：立刻显示出档名以及目前显示的行数
* q         ：离开 less 这个程序；

### nl

显示行号

```js
nl [-bnw] <source>
```

可选参数：
* -b ：指定行号指定的方式，主要有两种：
  * -b a ：表示不论是否为空行，也同样列出行号(类似 cat -n)；
  * -b t ：如果有空行，空的那一行不要列出行号(默认值)；
* -n ：列出行号表示的方法，主要有三种：
  * -n ln ：行号在荧幕的最左方显示；
  * -n rn ：行号在自己栏位的最右方显示，且不加 0 ；
  * -n rz ：行号在自己栏位的最右方显示，且加 0 ；
* -w m(数字)：设置行号栏位的占用的位数。
