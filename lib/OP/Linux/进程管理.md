# Linux进程管理

## ps

ps命令能够给出当前系统中进程的快照。它能捕获系统在某一事件的进程状态。如果你想不断更新查看的这个状态，可以使用top命令。

ps命令支持三种使用的语法格式

* UNIX 风格，选项可以组合在一起，并且选项前必须有“-”连字符
* BSD 风格，选项可以组合在一起，但是选项前不能有“-”连字符
* GNU 风格的长选项，选项前有两个“-”连字符

### 基础用法

```js
ps
```

默认会显示4列未排序信息。

* PID: 运行着的命令(CMD)的进程编号
* TTY: 命令所运行的位置（终端）
* TIME: 运行着的该命令所占用的CPU处理时间
* CMD: 该进程所运行的命令

![](https://ws1.sinaimg.cn/large/006tNbRwly1fx7voa5wb4j30f8048gme.jpg)

### ps -a

显示当前所有进程

```js
ps -a
```

### ps -u

在需要查看特定用户进程的情况下，我们可以使用 -u 参数。比如我们要查看用户'root'的进程，可以通过下面的命令

```js
ps -u root
```

### ps -aux

通过cpu和内存使用来过滤进程。

> cpu / eme(内存)

```js
// 根据cpu使用升序排列并 less 方式查看
ps -aux --sort -pcpu | less
// 根据 内存使用 来升序排序
ps -aux --sort -pmem

// 合成1个命令并只显示前10个结果
ps -aux --sort -pcpu,+pmem | head -n 10
```

### ps -C

通过进程名和PID过滤。

```js
// 显示一个名为node的进程的信息
ps -C node

```
### ps -L

如果我们想知道特定进程的线程，可以使用-L 参数，后面加上特定的PID。

```js
ps -L 1213
```

### ps -ef | grep node


## 总结

* 1）ps a 显示现行终端机下的所有程序，包括其他用户的程序。
* 2）ps -A 显示所有程序。
* 3）ps c 列出程序时，显示每个程序真正的指令名称，而不包含路径，参数或常驻服务的标示。
* 4）ps -e 此参数的效果和指定"A"参数相同。
* 5）ps e 列出程序时，显示每个程序所使用的环境变量。
* 6）ps f 用ASCII字符显示树状结构，表达程序间的相互关系。
* 7）ps -H 显示树状结构，表示程序间的相互关系。
* 8）ps -N 显示所有的程序，除了执行ps指令终端机下的程序之外。
* 9）ps s 采用程序信号的格式显示程序状况。
* 10）ps S 列出程序时，包括已中断的子程序资料。
* 11）ps -t<终端机编号> 指定终端机编号，并列出属于该终端机的程序的状况。
* 12）ps u 以用户为主的格式来显示程序状况。
* 13）ps x显示所有程序，不以终端机来区分。

最常用的方法是ps -aux,然后再利用一个管道符号导向到grep去查找特定的进程,然后再对特定的进程进行操作。
